{"title":"pacman 文档","uid":"b64cd93b72faed23ef520531eb71c1e8","slug":"Linux/pacman","date":"2022-04-28T07:42:04.000Z","updated":"2023-04-15T05:25:45.930Z","comments":true,"path":"api/articles/Linux/pacman.json","keywords":null,"cover":"/img/pacman/arch_logo.png","content":"<h1 id=\"pacman---arch-linux-软件管理器\">pacman - Arch Linux\n软件管理器</h1>\n<h3 id=\"synopsis\">SYNOPSIS</h3>\n<pre class=\"line-numbers language-shell\" data-language=\"shell\"><code class=\"language-shell\">pacman &lt;operation&gt; [options] [targets]</code></pre>\n<h3 id=\"description\">DESCRIPTION</h3>\n<p>Pacman 是一个包管理的使用程序，用于跟踪 Linux\n系统上以安装的包。它具有依赖性支持、软件包组、安装和卸载脚本，以及将本地机器与远程存储库同步以自动升级包的功能。Pacman\n包是 tar 压缩格式。</p>\n<p>调用 pacman\n涉及到指定一个带有任何潜在选项(options)和目标(targets)的操作(operation)。目标通常是包名(package\nname)、文件名(file name)、URL或搜索字符串(search\nstring)。目标可以作为命令行参数提供。</p>\n<h3 id=\"operations\">OPERATIONS</h3>\n<ul>\n<li><p><strong>-D， --database</strong></p>\n<p>对包数据库进行操作。通过该操作，可以修改 pacman\n数据库中已安装软件包的某些属性。检查数据库内部一致性。</p></li>\n<li><p><strong>-Q，--query</strong></p>\n<p>查询包数据库。该操作可以查看已安装的包及其文件，以及关于单个包的元信息。这可以针对本地包数据库运行，可以用于单个包文件。</p></li>\n<li><p><strong>-R，--remove</strong></p>\n<p>从系统中移除包。还可以指定要删除的组，在这种情况下，该组中的每个包都会被删除。属于指定包的文件将会被删除，数据库将会更新。</p></li>\n<li><p><strong>-S，--sync</strong></p>\n<p>同步包。包直接从远程仓库中安装，包括所需的所有依赖项。如果一个包名存在于多个仓库中，可以显示的指定仓库来确定需要安装的包。对于版本要求：<code>pacman -S \"bash&gt;=3.2\"</code>(需要使用双引号)。</p>\n<p>除了包之外，还可以指定组(group)。例：如果 gnome\n是一个已定义的包组，那么 <code>pacman -S gnome</code>\n将提供一个提示，允许从编号列表中选择要安装的包。包的选择是使用空格和\"/\"或逗号的包号(package\nnumbers)列表来指定的。可以用连字符(-)分隔第一个和最后一个包号来选择连续的包。排除包可以在数字或数字范围前加上插入符号(^)来实现。</p>\n<p>提供其他包的包(Packages that provide other\npackages)也被处理。例：<code>pacman -S foo</code> 将首先查找一个 foo\n包。如果没有找到 foo，将搜索提供与 foo 相同功能的包。</p>\n<p>可以使用 <code>pacman -Su</code> 来升级所有过时的软件包。</p></li>\n<li><p><strong>-T --deptest</strong></p>\n<p>检查依赖关系；这在 makepkg\n等脚本中用于检查已安装的包。该操作检查指定的每个依赖项，并返回系统当前不满足的依赖项列表。例：<code>pacman -T qt \"bash&gt;=3.2\"</code></p></li>\n<li><p><strong>-U，--upgrade</strong></p>\n<p>向系统升级或添加包，并从同步仓库中安装所需的依赖项。可以指定\nURL或文件路径。这是一个“删除尔后添加”的过程。</p></li>\n<li><p><strong>-F，--files</strong></p>\n<p>查询 files\n数据库。查找或显示属于某个包的文件。只有作为同步数据库一部分的包才会被搜索。</p></li>\n<li><p><strong>-V，--version</strong></p>\n<p>版本信息</p></li>\n<li><p><strong>-h，--help</strong></p>\n<p>显示给定操作的语法。如果没有提供操作，则显示一般语法。</p></li>\n</ul>\n<h3 id=\"options\">OPTIONS</h3>\n<ul>\n<li><p><strong>-b，--dbpath</strong> <path></p>\n<p>指定数据库的位置(默认：<code>/var/lib/pacman</code>)。<strong>注意</strong>：这必须是一个绝对路径。</p></li>\n<li><p><strong>-r，--root</strong> <path></p>\n<p>指定安装跟目录(默认：<code>/</code>)。这不能作为将软件安装到/usr/local而不是/usr的一种方式。</p></li>\n<li><p><strong>-v，--verbose</strong></p>\n<p>输出路径，如根目录(Root)，配置文件(Conf File)，DB路径(DB\nPath)，缓存目录(Cache Dirs)等。</p></li>\n<li><p><strong>--arch</strong> <arch></p>\n<p>指定架构(architecture)</p></li>\n<li><p><strong>--cachedir</strong></p>\n<dir>\n<p>指定包的缓存目录(默认：<code>/var/cache/pacman/pkg</code>)。可以指定多个缓存目录，并按照传递给\npacman\n的顺序依次尝试它们。<strong>注意</strong>：这必须是一个绝对路径。</p></li>\n<li><p><strong>--color</strong> <when></p>\n<p>指定何时启动着色。选项有 [always, never, auto]。</p></li>\n<li><p><strong>--config</strong> <file></p>\n<p>指定配置文件</p></li>\n<li><p><strong>--debug</strong></p>\n<p>显示调试消息。当报告错误时，建议使用此选项。</p></li>\n<li><p><strong>--gpgdir</strong></p>\n<dir>\n<p>指定 GnuPG\n校验包签名的文件目录(默认：<code>/etc/pacman.d/gnupg</code>)。这个目录应该包含两个文件：pubring.gpg\n和 trustdb.gpg。<strong>注意</strong>：这必须是一个绝对路径。</p></li>\n<li><p><strong>--hookdir</strong></p>\n<dir>\n<p>指定一个有钩子文件(hook\nfiles)的目录(默认：<code>/etc/pacman.d/hooks</code>)。可以指定多个钩子目录，使后面目录中的钩子优先于前面目录中的钩子。<strong>注意</strong>:这是一个绝对路径。</p></li>\n<li><p><strong>--logfile</strong> <file></p>\n<p>指定一个备用日志文件。这是一个绝对路径，与安装根目录设置无关。</p></li>\n<li><p><strong>--noconfirm</strong></p>\n<p>绕过任何“你确定吗?””消息。这样做不是一个好主意，除非你想从脚本运行pacman。</p></li>\n<li><p><strong>--confirm</strong></p>\n<p>取消先前的<code>—noconfirm</code>的影响。</p></li>\n<li><p><strong>--disable-download-timeout</strong></p>\n<p>在下载时禁用默认的低速限制和超时。如果你用代理和/或安全网关下载文件有问题，请使用这个。</p></li>\n<li><p><strong>--sysroot</strong></p>\n<dir>\n<p>指定一个替代系统根(system\nroot)。在运行Pacman之前，将chroot和chdir放入系统根目录。这允许正确地操作挂载的客户系统。给出的任何其他路径都将被解释为相对于系统根。需要root特权。</p></li>\n</ul>\n<h3 id=\"sync-options-apply-to--s\">SYNC OPTIONS (APPLY TO -S)</h3>\n<ul>\n<li><p><strong>-c，--clean</strong></p>\n<p>从缓存和当前未使用的同步数据库中删除不再安装的包，以释放磁盘空间。当\npacman 下载软件包时，它会把它们保存在一个缓存目录中。<code>-c</code>\n仅删除那些不再被安装的包，<code>-cc</code>\n会删除缓存中的所有文件。</p></li>\n<li><p><strong>-g，--groups</strong></p>\n<p>显示每个指定包组的所有成员。如果没有提供组名，将列出所有组；传递标志两次(<code>-gg</code>)以查看所有组及其成员。</p></li>\n<li><p><strong>-i，--info</strong></p>\n<p>显示给定同步数据库包的信息。<code>-ii</code>\n将显示所有依赖于此包的存储库中的那些包。</p></li>\n<li><p><strong>-l，--list</strong></p>\n<p>列出指定仓库中的所有包。可以在命令行上指定多个仓库。</p></li>\n<li><p><strong>-q，--quiet</strong></p>\n<p>为某些同步操作显示较少的信息。当在脚本中处理 pacman\n的输出时，这很有用。搜索将只显示包名，而不显示仓库、版本、组和描述信息；List将只显示包名，而忽略数据库和版本;组将只显示包名而忽略组名。</p></li>\n<li><p><strong>-s，--search</strong> <regexp></p>\n<p>这将搜索同步数据库中的每个包，以查找匹配regexp的名称或描述。当您包含多个搜索条件时，只有描述匹配所有这些条件的包将被返回。</p></li>\n<li><p><strong>-u，--sysupgrade</strong></p>\n<p>升级所有过期的软件包。如果有新的包存在，将检查和升级当前安装的每个包。所有要升级的包将会显示一个报告，没有用户的确认操作将不会进行。依赖关系将在此级别自动解决，并将在必要时进行安装/升级。</p></li>\n<li><p><strong>-y，--refresh</strong></p>\n<p>从 pacman.conf(<code>/etc/pacman.conf</code>)\n中定义的服务器下载一个新的主包数据库副本。这通常应该在每次使用\n<code>-u</code> 时使用。<code>-yy</code>\n将强制刷新所有包数据库，即使它们看起来是最新的。</p></li>\n</ul>\n<h3 id=\"remove-options-apply-to--r\">REMOVE OPTIONS (APPLY TO -R)</h3>\n<ul>\n<li><p><strong>-c，--cascade</strong></p>\n<p>删除所有目标包，以及依赖于一个或多个目标包的所有包。这个操作是递归的，必须小心使用，因为它可能会删除许多可能需要的包。</p></li>\n<li><p><strong>-n，--nosave</strong></p>\n<p>指示 pacman\n忽略文件备份指定。通常，当从系统中删除一个文件时，数据库会检查该文件是否应该以\n.pacsave 扩展名重命名。</p></li>\n<li><p><strong>-s，--recursive</strong></p>\n<p>删除指定的每个目标，包括它们的所有依赖项，前提是(A)其他包不需要它们;(B)它们不是由用户明确安装的。如果要忽略条件(B)，则传递此选项两次(<code>-ss</code>)。</p></li>\n<li><p><strong>-u，--unneeded</strong></p>\n<p>删除任何其他包不需要的目标。这在不使用 <code>-c</code>\n选项删除组时非常有用，以避免破坏任何依赖关系。</p></li>\n</ul>\n<hr />\n<h3 id=\"examples\">EXAMPLES</h3>\n<pre class=\"line-numbers language-shell\" data-language=\"shell\"><code class=\"language-shell\">pacman -Ss ne.hack\n# 搜索仓库中符合正则表达式&quot;ne.hack&quot;的包\npacman -S gpm\n# 下载并安装gpm，包括依赖项。\npacman -U &#x2F;home&#x2F;user&#x2F;ceofhack-0.6-1-x86_64.pkg.tar.gz\n# 从本地文件安装&quot;ceofhack-0.6-1&quot;软件包。\npacman -Syu\n# 更新包列表并升级所有包。\npacman -Syu gpm\n# 更新包列表，升级所有的包，然后安装gpm(如果还没有安装的话)。</code></pre>\n<hr />\n<p>官方帮助文档：<a\nhref=\"https://man.archlinux.org/man/pacman.8\">pacman</a></p>\n","text":"pacman - Arch Linux 软件管理器 SYNOPSIS pacman &lt;operation&gt; [options] [targets] DESCRIPTION Pacman 是一个包管理的使用程序，用于跟踪 Linux 系统上以安装的包。它具有依赖性支持、...","link":"","photos":[],"count_time":{"symbolsCount":"3.6k","symbolsTime":"3 mins."},"categories":[{"name":"Linux","slug":"Linux","count":3,"path":"api/categories/Linux.json"}],"tags":[{"name":"Pacman 命令","slug":"Pacman-命令","count":1,"path":"api/tags/Pacman-命令.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#pacman---arch-linux-%E8%BD%AF%E4%BB%B6%E7%AE%A1%E7%90%86%E5%99%A8\"><span class=\"toc-text\">pacman - Arch Linux\n软件管理器</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#synopsis\"><span class=\"toc-text\">SYNOPSIS</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#description\"><span class=\"toc-text\">DESCRIPTION</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#operations\"><span class=\"toc-text\">OPERATIONS</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#options\"><span class=\"toc-text\">OPTIONS</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#sync-options-apply-to--s\"><span class=\"toc-text\">SYNC OPTIONS (APPLY TO -S)</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#remove-options-apply-to--r\"><span class=\"toc-text\">REMOVE OPTIONS (APPLY TO -R)</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#examples\"><span class=\"toc-text\">EXAMPLES</span></a></li></ol></li></ol></li></ol>","author":{"name":"爱慢跑的乌龟","slug":"blog-author","avatar":"/img/avatar1.jpg","link":"/","description":"求知若饥，虚心若愚！","socials":{"github":"https://github.com/ansonxu1998","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}},"mapped":true,"prev_post":{"title":"路径规划算法","uid":"2b59eb5778e5da9b12f5210e8d61016e","slug":"Self-Driving/PathPlan","date":"2022-05-03T16:00:00.000Z","updated":"2023-04-15T05:23:56.570Z","comments":true,"path":"api/articles/Self-Driving/PathPlan.json","keywords":null,"cover":"/img/PathPlaning/A-Star-1.png","text":"1. 自动驾驶汽车定位-感知-规划-决策-控制概述 定位 定位，即通过GPS、惯导、激光雷达等传感器，获取车辆的位置和航向信息。 绝对定位是指通过GPS实现，采用双天线，通过卫星获得车辆在地球上的绝对位置和航向信息。 相对定位是指根据车辆的初始位姿，通过惯导、里程计等传感器获得加...","link":"","photos":[],"count_time":{"symbolsCount":"10k","symbolsTime":"9 mins."},"categories":[{"name":"自动驾驶","slug":"自动驾驶","count":1,"path":"api/categories/自动驾驶.json"}],"tags":[{"name":"路径规划","slug":"路径规划","count":1,"path":"api/tags/路径规划.json"}],"author":{"name":"爱慢跑的乌龟","slug":"blog-author","avatar":"/img/avatar1.jpg","link":"/","description":"求知若饥，虚心若愚！","socials":{"github":"https://github.com/ansonxu1998","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}}},"next_post":{"title":"Docker","uid":"a48e6dda0c21e40880cba7e763278b04","slug":"Linux/Docker","date":"2022-04-24T16:00:00.000Z","updated":"2023-04-15T05:27:17.837Z","comments":true,"path":"api/articles/Linux/Docker.json","keywords":null,"cover":"/img/docker/docker_logo.jpg","text":"Docker 官方文档地址 中文参考手册 1.什么是Docker 1.1 官方定义 官方介绍 We have a vomplete container solution for you - no matter who you are where you are on your c...","link":"","photos":[],"count_time":{"symbolsCount":"9.3k","symbolsTime":"8 mins."},"categories":[{"name":"Docker","slug":"Docker","count":3,"path":"api/categories/Docker.json"}],"tags":[{"name":"Docker 入门","slug":"Docker-入门","count":1,"path":"api/tags/Docker-入门.json"}],"author":{"name":"爱慢跑的乌龟","slug":"blog-author","avatar":"/img/avatar1.jpg","link":"/","description":"求知若饥，虚心若愚！","socials":{"github":"https://github.com/ansonxu1998","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}}}}