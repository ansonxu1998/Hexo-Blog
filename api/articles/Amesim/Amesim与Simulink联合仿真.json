{"title":"Amesim 与 Simulink 的联合仿真","uid":"51d61b1e82665e319117cf3815ca2bc7","slug":"Amesim/Amesim与Simulink联合仿真","date":"2022-09-28T07:12:00.000Z","updated":"2023-02-10T09:13:34.660Z","comments":true,"path":"api/articles/Amesim/Amesim与Simulink联合仿真.json","keywords":null,"cover":[],"content":"<h1 id=\"amesim-与-simulink-的联合仿真\">Amesim 与 Simulink\n的联合仿真</h1>\n<h2 id=\"环境配置\">环境配置</h2>\n<p>软件版本为：<code>Matlab 2020b</code> 和\n<code>Amesim 2021.1</code>，编译器使用 MinGW-w64</p>\n<h3 id=\"附件安装\">附件安装：</h3>\n<p>首先需要在 Matlab 中安装附件\n<code>MATLAB Support for MinGW-w64 C/C++ Compiler</code></p>\n<p><img src=\"/img/Amesim/2022-09-28-1.png\" /></p>\n<p><img src=\"/img/Amesim/2022-09-28-2.png\" /></p>\n<p>点击进入安装即可。</p>\n<p>安装完成后，在命令行输入：</p>\n<ul>\n<li><code>mex -setup</code></li>\n<li><code>mex -setup C++</code></li>\n</ul>\n<p><img src=\"/img/Amesim/2022-09-28-3.png\" /></p>\n<h3 id=\"环境变量配置关键\">环境变量配置（关键）</h3>\n<p><em>路径：</em> 此电脑 - 属性 - 高级系统设置 - 高级 - 环境变量 -\n系统变量</p>\n<table>\n<colgroup>\n<col style=\"width: 18%\" />\n<col style=\"width: 81%\" />\n</colgroup>\n<thead>\n<tr class=\"header\">\n<th>变量名</th>\n<th>变量值</th>\n</tr>\n</thead>\n<tbody>\n<tr class=\"odd\">\n<td>AME</td>\n<td><code>D:\\tool\\Simcenter\\2021.1\\Amesim</code></td>\n</tr>\n<tr class=\"even\">\n<td>GCC_HOME</td>\n<td><code>D:\\Program Files\\Polyspace\\R2020b\\extern\\lib\\win64\\mingw64</code></td>\n</tr>\n<tr class=\"odd\">\n<td>MATLAB</td>\n<td><code>D:\\Program Files\\Polyspace\\R2020b</code></td>\n</tr>\n<tr class=\"even\">\n<td>MW_MINGW64_LOC</td>\n<td><code>C:\\ProgramData\\MATLAB\\SupportPackages\\R2020b\\3P.instrset\\mingw_w64.instrset</code></td>\n</tr>\n</tbody>\n</table>\n<p><code>Path</code>：</p>\n<p><img src=\"/img/Amesim/2022-09-28-4.png\" /></p>\n<p><img src=\"/img/Amesim/2022-09-28-5.png\" /></p>\n<h3 id=\"amesim-编译器选择\">Amesim 编译器选择</h3>\n<p><em>路径</em>： Tools - Preference - Compliation - Active\ncomplier</p>\n<p><img src=\"/img/Amesim/2022-09-28-6.png\" /></p>\n<h2 id=\"联合仿真接口使用\">联合仿真接口使用</h2>\n<p><em>路径</em>：Interfaces - Create interface block...</p>\n<p><img src=\"/img/Amesim/2022-09-28-7.png\" /></p>\n<p><img src=\"/img/Amesim/2022-09-28-8.png\" /></p>\n<p>完成 Amesim 草图之后，编译模型，编译细节如下：</p>\n<p><img src=\"/img/Amesim/2022-09-28-9.png\" /></p>\n<p>点击 <code>Run simulation</code>：</p>\n<p><img src=\"/img/Amesim/2022-09-28-10.png\" /></p>\n<p>再点击 <code>Simulink</code>，系统将会自动打开 Matlab 并启动\nSimulink。</p>\n<p>在 Simulink Libaray 的 User-Defined Functions 中找到\n<code>S-Function</code> 模块：</p>\n<p><img src=\"/img/Amesim/2022-09-28-11.png\" /></p>\n<p><code>S-Function</code> 模块的参数设置：</p>\n<p><img src=\"/img/Amesim/2022-09-28-12.png\" /></p>\n<h2 id=\"simulink-interface\">Simulink interface</h2>\n<h3 id=\"两个接口\">两个接口</h3>\n<p>Simcenter Amesim-Simulink 和 Simulink-Simcenter Amesim 接口可以结合\nSimcenter Amesim 和 Simulink 模型执行仿真。\n由于涉及两个软件包，接口提供了两个主要选项：将 Simcenter Amesim 模型导入\nSimulink，或将 Simulink 模型导入 Simcenter Amesim。</p>\n<p>通过 Simcenter Amesim-Simulink 界面，用户可以选择这两种方法。\n除了这两种方法之外，还可以将 Simcenter Amesim 求解器（带有 Simcenter\nAmesim 模型）导出到 Simulink。\n这有时称为协同仿真，因为我们使用两个软件包中的求解器，它们一起执行仿真。</p>\n<h3 id=\"如何选择我需要的接口\">如何选择我需要的接口？</h3>\n<p>这个问题没有单一的答案。答案取决于很多事情。有些 Simcenter Amesim\n系统很难或不可能使用 Simulink\n求解器求解。如果是这种情况，那么用户需要选择协同仿真。这意味着将同时使用\nSimcenter Amesim 和 Simulink 求解器，并且每个人都将负责自己的部分。</p>\n<p>有时 Simulink 系统非常复杂，将其导入 Simcenter Amesim\n可能不是最佳解决方案，因为它会强制使用 Simulink\n固定步长求解器，这有时并不合适。</p>\n<p>除了技术原因之外，还必须考虑模型的用途。如果主要目的是测试/开发\nSimcenter Amesim 模型，则将 Simulink 模型导入 Simcenter Amesim\n可能是最佳策略。如果主要目的是使用在 Simcenter Amesim 中编写的物理模型在\nSimulink 中测试/开发控制器，那么在 Simulink\n中工作显然是一个更好的主意。</p>\n<p>在许多情况下，一个人开发 Simulink 模型，另一个人开发 Simcenter Amesim\n模型。负责整合模型的人显然更喜欢在“他的”环境中工作。</p>\n<p>有一些明显的“规则”：如果 Simulink 模型很小，而 Simcenter Amesim\n模型很大，则可以将 Simulink 模型放入 Simcenter Amesim。如果需要访问\nSimcenter Amesim 中的独特功能，您还可以将 Simulink 模型放入 Simcenter\nAmesim。如果您需要使用 MATLAB® /Simulink 中的特殊功能，您可以将\nSimcenter Amesim 模型放入 Simulink。</p>\n<h3 id=\"supported-simulink-interface-modes\">Supported Simulink Interface\nmodes</h3>\n<table>\n<colgroup>\n<col style=\"width: 66%\" />\n<col style=\"width: 33%\" />\n</colgroup>\n<thead>\n<tr class=\"header\">\n<th>Envisaged interface mode</th>\n<th>Supported</th>\n</tr>\n</thead>\n<tbody>\n<tr class=\"odd\">\n<td>1.1 Co-simulation in <strong>Simcenter Amesim: Simcenter</strong>\nAmesim as Master (<strong>Simulink</strong> as Slave)</td>\n<td><span class=\"math inline\">\\(Yes^{1.2.}\\)</span>\n(<strong>SL2AMECosim</strong>)</td>\n</tr>\n<tr class=\"even\">\n<td>2.1 Co-simulation in <strong>Simulink: Simcenter Amesim</strong> as\nSlave (<strong>Simulink</strong> as Master)</td>\n<td><span class=\"math inline\">\\(Yes^{3.}\\)</span>\n(<strong>AME2SLCosim</strong>)</td>\n</tr>\n<tr class=\"odd\">\n<td>2.2 Model Exchange: Export of <strong>Simcenter Amesim</strong>\nmodel into <strong>Simulink</strong></td>\n<td><span class=\"math inline\">\\(Yes^{3.4.}\\)</span> (AME2SL)</td>\n</tr>\n</tbody>\n</table>\n<ol type=\"1\">\n<li>对于 <strong>SL2AMECosim</strong>，请注意，一旦将\n<strong>Simulink</strong> 模型导入 <strong>Simcenter\nAmesim</strong>，就不再需要 <strong>Simulink</strong>\n来运行仿真（也不需要 <strong>Simulink</strong> 许可证）。</li>\n<li>在 <strong>SL2AMECosim</strong> 中，嵌入式 <strong>Simulink</strong>\n求解器始终为固定步长类型。 支持 <strong>Simulink</strong>\n模型引用。</li>\n<li>对于 <strong>Simulink</strong>（<strong>AME2SL</strong> 或\n<strong>AME2SLCosim</strong>）中的模型交换或联合仿真，<strong>Simcenter\nAmesim</strong> 模型（带或不带求解器）导出为\n<code>S-Function</code></li>\n<li>此模式符合黑盒选项。</li>\n</ol>\n<p><img src=\"/img/Amesim/2022-09-28-13.png\" /></p>\n<p><img src=\"/img/Amesim/2022-09-28-14.png\" /></p>\n<p><img src=\"/img/Amesim/2022-09-28-15.png\" /></p>\n<h3 id=\"multiple-simulink-interfaces\">multiple Simulink interfaces</h3>\n<ul>\n<li>如果 Simcenter Amesim 是目标环境，则接口模块是完全独立的（Simcenter\nAmesim 将其视为标准子模型）。 因此，在同一个 Simcenter Amesim\n草图上混合不同块类型或设置的可能性在理论上是不受限制的。</li>\n<li>可以在单个 Simcenter Amesim 系统中使用多个 Simulink\n模型（反之亦然），但不能在单个 Simcenter Amesim 系统中多次使用同一个\nSimulink 模型（反之亦然）。</li>\n<li>目标环境中使用的块与独立系统一样多。</li>\n</ul>\n<table>\n<colgroup>\n<col style=\"width: 50%\" />\n<col style=\"width: 50%\" />\n</colgroup>\n<thead>\n<tr class=\"header\">\n<th>Capability</th>\n<th>Supported interface modes for blocks</th>\n</tr>\n</thead>\n<tbody>\n<tr class=\"odd\">\n<td>Use <span class=\"math inline\">\\(N\\)</span> <strong>Simulink</strong>\nblocks in <strong>Simcenter Amesim</strong></td>\n<td>Co-simulation (<strong>SL2AMECosim</strong>): <strong>Simcenter\nAmesim as Master</strong> (<strong>Simulink</strong> as Slave)</td>\n</tr>\n<tr class=\"even\">\n<td>Use <span class=\"math inline\">\\(N\\)</span> <strong>Simulink</strong>\nblocks with different solver types (variable/fixed-step) or solver\nsettings in <strong>Simcenter Amesim</strong></td>\n<td>Co-simulation (<strong>SL2AMECosim</strong>): <strong>Simcenter\nAmesim</strong> as Master (<strong>Simulink</strong> as Slave)<span\nclass=\"math inline\">\\(^2\\)</span></td>\n</tr>\n<tr class=\"odd\">\n<td>Use <span class=\"math inline\">\\(N\\)</span> <strong>Simcenter\nAmesim</strong> blocks in <strong>Simulink</strong></td>\n<td>Co-simulation (<strong>AME2SLCosim</strong>): <strong>Simcenter\nAmesim</strong> as Slave (<strong>Simulink</strong> as Master)</td>\n</tr>\n<tr class=\"even\">\n<td></td>\n<td>Model Exchange (<strong>AME2SL</strong>): Export of\n<strong>Simcenter Amesim</strong> model into\n<strong>Simulink</strong></td>\n</tr>\n<tr class=\"odd\">\n<td></td>\n<td>Both Co-simulation (<strong>AME2SLCosim</strong>): <strong>Simcenter\nAmesim</strong> as Slave (<strong>Simulink</strong> as Master) and Model\nExchange (<strong>AME2SL</strong>): Export of <strong>Simcenter\nAmesim</strong> model into <strong>Simulink</strong></td>\n</tr>\n<tr class=\"even\">\n<td>Use <span class=\"math inline\">\\(N\\)</span> <strong>Simcenter\nAmesim</strong> blocks with different solver types (variable/fixed-step)\nor solver settings in <strong>Simulink</strong></td>\n<td>Co-simulation (<strong>AME2SLCosim</strong>): <strong>Simcenter\nAmesim</strong> as Slave (<strong>Simulink</strong> as Master)</td>\n</tr>\n</tbody>\n</table>\n<ol type=\"1\">\n<li>在 <strong>SL2AMECosim</strong>\n中，求解器类型始终为固定步长，但设置（例如步长）可以不同</li>\n<li>其中一些模型交换块可以是黑盒类型。</li>\n</ol>\n<h2 id=\"依赖\">依赖</h2>\n<p>编译器：</p>\n<p><img src=\"/img/Amesim/2022-09-28-16.png\" /></p>\n<p>The <strong>Simcenter Amesim</strong> to <strong>Simulink</strong>\ninterface for <strong>Simcenter Amesim</strong> 2021.1 has been\nextensively tested using <strong>MATLAB/Simulink</strong> R2015b and\nR2020b. All releases between these two versions should work.</p>\n","text":"Amesim 与 Simulink 的联合仿真 环境配置 软件版本为：Matlab 2020b 和 Amesim 2021.1，编译器使用 MinGW-w64 附件安装： 首先需要在 Matlab 中安装附件 MATLAB Support for MinGW-w64 C/C++ ...","link":"","photos":[],"count_time":{"symbolsCount":"4.1k","symbolsTime":"4 mins."},"categories":[{"name":"Amesim","slug":"Amesim","count":1,"path":"api/categories/Amesim.json"}],"tags":[{"name":"Amesim","slug":"Amesim","count":1,"path":"api/tags/Amesim.json"},{"name":"Simulink","slug":"Simulink","count":1,"path":"api/tags/Simulink.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#amesim-%E4%B8%8E-simulink-%E7%9A%84%E8%81%94%E5%90%88%E4%BB%BF%E7%9C%9F\"><span class=\"toc-text\">Amesim 与 Simulink\n的联合仿真</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE\"><span class=\"toc-text\">环境配置</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E9%99%84%E4%BB%B6%E5%AE%89%E8%A3%85\"><span class=\"toc-text\">附件安装：</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F%E9%85%8D%E7%BD%AE%E5%85%B3%E9%94%AE\"><span class=\"toc-text\">环境变量配置（关键）</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#amesim-%E7%BC%96%E8%AF%91%E5%99%A8%E9%80%89%E6%8B%A9\"><span class=\"toc-text\">Amesim 编译器选择</span></a></li></ol></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E8%81%94%E5%90%88%E4%BB%BF%E7%9C%9F%E6%8E%A5%E5%8F%A3%E4%BD%BF%E7%94%A8\"><span class=\"toc-text\">联合仿真接口使用</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#simulink-interface\"><span class=\"toc-text\">Simulink interface</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E4%B8%A4%E4%B8%AA%E6%8E%A5%E5%8F%A3\"><span class=\"toc-text\">两个接口</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E5%A6%82%E4%BD%95%E9%80%89%E6%8B%A9%E6%88%91%E9%9C%80%E8%A6%81%E7%9A%84%E6%8E%A5%E5%8F%A3\"><span class=\"toc-text\">如何选择我需要的接口？</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#supported-simulink-interface-modes\"><span class=\"toc-text\">Supported Simulink Interface\nmodes</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#multiple-simulink-interfaces\"><span class=\"toc-text\">multiple Simulink interfaces</span></a></li></ol></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E4%BE%9D%E8%B5%96\"><span class=\"toc-text\">依赖</span></a></li></ol></li></ol>","author":{"name":"爱慢跑的乌龟","slug":"blog-author","avatar":"/img/avatar1.jpg","link":"/","description":"求知若饥，虚心若愚！","socials":{"github":"https://github.com/ansonxu1998","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}},"mapped":true,"prev_post":{"title":"矩阵的导数运算(1)","uid":"d97c1a68285e6aac869410b1223c6673","slug":"Math/矩阵的导数运算1","date":"2023-02-10T08:37:00.000Z","updated":"2023-04-15T02:31:18.360Z","comments":true,"path":"api/articles/Math/矩阵的导数运算1.json","keywords":null,"cover":null,"text":"矩阵的导数运算 (1) 标量方程对向量的导数： 定义： \\[ \\frac{\\partial f(\\vec{y})}{\\partial \\vec{y}}=\\begin{bmatrix}\\frac{\\partial f(\\vec{y})}{\\partial y_1}\\\\\\frac{\\...","link":"","photos":[],"count_time":{"symbolsCount":"2.7k","symbolsTime":"2 mins."},"categories":[{"name":"数学","slug":"数学","count":2,"path":"api/categories/数学.json"}],"tags":[{"name":"矩阵求导","slug":"矩阵求导","count":1,"path":"api/tags/矩阵求导.json"}],"author":{"name":"爱慢跑的乌龟","slug":"blog-author","avatar":"/img/avatar1.jpg","link":"/","description":"求知若饥，虚心若愚！","socials":{"github":"https://github.com/ansonxu1998","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}}},"next_post":{"title":"Python 的深拷贝和浅拷贝","uid":"5badb916fa8f30fce64229fc7b4b0982","slug":"Pyhon/深拷贝与浅拷贝","date":"2022-09-27T11:01:00.000Z","updated":"2022-09-27T11:39:49.340Z","comments":true,"path":"api/articles/Pyhon/深拷贝与浅拷贝.json","keywords":null,"cover":[],"text":"Python 的深拷贝和浅拷贝 12a = [1, 2, 3, [1, 2, 3, [4, 5]]]b = a 当使用赋值运算符 =，a 和 b 两个变量指向的同一个地址： 12a = [1, 2, 3, [1, 2, 3, [4, 5]]]c = a.cope() 当列表具有多...","link":"","photos":[],"count_time":{"symbolsCount":398,"symbolsTime":"1 mins."},"categories":[{"name":"Python","slug":"Python","count":1,"path":"api/categories/Python.json"}],"tags":[{"name":"Python tips","slug":"Python-tips","count":1,"path":"api/tags/Python-tips.json"}],"author":{"name":"爱慢跑的乌龟","slug":"blog-author","avatar":"/img/avatar1.jpg","link":"/","description":"求知若饥，虚心若愚！","socials":{"github":"https://github.com/ansonxu1998","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}}}}